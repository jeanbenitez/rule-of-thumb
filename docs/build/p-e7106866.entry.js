import{r as t,e,h as o,H as i}from"./p-68b36287.js";import{s as n,a as r}from"./p-f1b37f15.js";function s(t){return{up:Math.round(100*t.up/(t.up+t.down))||0,down:Math.round(100*t.down/(t.up+t.down))||0}}const a=class{constructor(o){t(this,o),this.selectedVote="up",this.voteDone=!1,this.onVote=()=>{this.voteDone?this.voteDone=!1:(this.vote.emit({personId:this.person.id,vote:this.selectedVote}),this.selectedVote="up",this.voteDone=!0)},this.vote=e(this,"vote",7)}selectVote(t){this.selectedVote=t}renderVoteButton(t,e=!1){return o("rot-button",{key:t,class:{hide:this.voteDone,thumb:!0,[t]:!0,selected:!e&&this.selectedVote===t},onClick:()=>!e&&this.selectVote(t)},o("rot-icon",{theme:t,icon:`thumb-${t}`}))}getPersonCategory(t){var e;return(null===(e=n.state.categories.find(e=>e.slug===t))||void 0===e?void 0:e.name)||t}render(){const{name:t,description:e,expireDate:n,category:a}=this.person,c=function(t){const e=s(t);return e.down>e.up?"down":"up"}(this.person.votes);return!!this.person&&o(i,{style:{"--rot-vote-card-bg-image":`url(${this.person.image})`}},o("div",{class:"title-name"},o("rot-icon",{theme:c,icon:`thumb-${c}`}),o("h1",null,t)),o("section",null,o("span",{class:"date-and-category"},o("b",null,r(n))," in ",this.getPersonCategory(a)),o("p",null,this.voteDone?"Thank for your voting":e),o("div",{class:"vote-buttons"},[this.renderVoteButton("up"),this.renderVoteButton("down"),o("rot-button",{key:"v",theme:"text",onClick:this.onVote,innerHTML:this.voteDone?"Vote again":"Vote now"})])),o("rot-votes-scorebar",{votes:this.person.votes}))}};a.style=":host{display:-ms-flexbox;display:flex;min-height:550px;background-position:center center;background-size:cover;background-repeat:no-repeat;position:relative;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:end;justify-content:flex-end;color:white;font-weight:300;-webkit-box-sizing:border-box;box-sizing:border-box;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(0, 0, 0, 0.6)), to(rgba(0, 0, 0, 0))), var(--rot-vote-card-bg-image);background-image:linear-gradient(0deg, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0) 100%), var(--rot-vote-card-bg-image)}.title-name{display:-ms-flexbox;display:flex;-ms-flex-align:end;align-items:flex-end}.title-name rot-icon{font-size:23px;padding:4px;margin-right:19px}.title-name h1{margin:0;font-weight:400}@media screen and (min-width: 400px){.title-name h1{font-size:45px;line-height:35px}}section{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:end;justify-content:flex-end;padding:10px}@media screen and (min-width: 400px){section{padding:0 50px 50px 50px}}section p{font-size:16px;min-height:80px}section .vote-buttons{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:100%}section .vote-buttons rot-button{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;font-size:14px;border:2px solid}section .vote-buttons rot-button.thumb{font-size:23px;padding:4px;margin-right:10px}section .vote-buttons rot-button.thumb.up{background-color:rgba(28, 187, 180, 0.9);border-color:rgba(28, 187, 180, 0.9)}section .vote-buttons rot-button.thumb.down{background-color:rgba(255, 173, 29, 0.9);border-color:rgba(255, 173, 29, 0.9)}section .vote-buttons rot-button.thumb:not(.selected){border-top-width:0;border-bottom-width:0}section .vote-buttons rot-button.thumb.selected{border:2px solid}section .vote-buttons rot-button.thumb.hide{display:none}";const c=class{constructor(e){t(this,e)}render(){const t=s(this.votes),e=0===t.up&&0===t.down?{up:50,down:50}:t;return o(i,null,o("div",{class:"up",style:{"--rot-vote-percentage":e.up+"%"}},o("rot-icon",{icon:"thumb-up"})," ",t.up+"%"),o("div",{class:"down",style:{"--rot-vote-percentage":e.down+"%"}},t.down+"%"," ",o("rot-icon",{icon:"thumb-down"})))}};c.style=":host{display:-ms-flexbox;display:flex}div{width:var(--rot-vote-percentage);min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content;color:white;font-size:29px;font-weight:300;-webkit-box-sizing:border-box;box-sizing:border-box;padding:7.5px}div.up{background-color:rgba(28, 187, 180, 0.6)}div.down{background-color:rgba(255, 173, 29, 0.6);text-align:right}";export{a as rot_vote_card,c as rot_votes_scorebar}